import tkinter as tk
from tkinter import ttk
import psycopg2

def create_expense_tracker():
    def add_expense():
        name = expense_entry.get()
        amount = float(amount_entry.get())
        category = category_var.get()

        if name and amount:
            cursor.execute("""
                INSERT INTO expenses (name, amount, category) VALUES (%s, %s, %s)
            """, (name, amount, category))

            conn.commit()
            load_data()
            expense_entry.delete(0, tk.END)
            amount_entry.delete(0, tk.END)

    def load_data():
        tree.delete(*tree.get_children())
        cursor.execute("SELECT * FROM expenses")
        rows = cursor.fetchall()

        for row in rows:
            tree.insert("", tk.END, values=row)

    conn = psycopg2.connect(
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432",
        database="project"
    )
    cursor = conn.cursor()



    root = tk.Tk()
    root.title("Expense Tracker")
    root.geometry("500x400")

    frame_expense = tk.Frame(root)
    frame_expense.pack()
